# 2.架构描述标识和概述

## 2.1 系统标识

- **正式名称**：校园卡管理系统（Campus Card Management System, CCMS）
- **版本标识**：v1.0.0  
- **开发基线**：基于SRS文档SOFT_PROJ-2025-CCMS-001_v1.0.0  
- **技术栈**：
  - 前端：Qt 5.15+ Widgets（C++）
  - 后端：C++17标准
  - 数据库：SQLite 3.35+
- **部署环境**：
  - 操作系统：Windows 10+
  - 硬件要求：x86架构/8GB RAM/500MB存储

## 2.2 架构概述

系统采用**分层架构**（Layered Architecture），基于**模型-视图-控制器（MVC）**架构风格，支持单机部署和本地网络访问。具体分层如下：

1. **前端展示层（Presentation Layer）**：
   - 使用Qt Widgets实现GUI界面
   - 包含用户登录、信息展示、管理控制台等模块
   - 响应时间≤1秒

2. **业务逻辑层（Business Logic Layer）**：
   - 使用C++实现业务处理模块
   - 包含用户管理、权限控制、交易处理等核心功能
   - 采用SHA-256加密

3. **数据访问层（Data Access Layer）**：
   - 使用SQLite C/C++ Interface进行封装
   - 实现ACID事务处理
   - 单条查询≤100ms

4. **数据存储层（Data Storage）**：
   - 用SQLite数据库文件存储数据
   - 最大容量10MB
   - 用WAL日志模式保障故障恢复

**关键架构决策**：
- 采用单机部署模式，放弃分布式架构
- 选择SQLite而非MySQL等服务器数据库
- 使用Qt信号槽机制实现松耦合

# 3. 利益相关者和关注点

## 3.1 利益相关者

1. **学校管理层**：
   - 角色：系统所有者
   - 参与度：需求定义、验收评审
   - 典型代表：信息化办公室主任

2. **教职工用户**：
   - 角色：终端用户
   - 使用场景：日常消费记录查询、门禁使用
   - 数量：约200人

3. **学生用户**：
   - 角色：主要使用者
   - 使用频率：每日多次
   - 特殊需求：自助密码修改

4. **IT运维人员**：
   - 角色：系统维护者
   - 技能要求：SQLite基础命令
   - 关键操作：数据库备份/恢复

5. **第三方支付平台**：
   - 当前状态：模拟接口
   - 未来集成：微信/支付宝API对接

## 3.2 关注点

1. **系统可用性**：
   - 量化指标：99.9%操作成功率
   - 保障措施：SQLite事务回滚机制

2. **数据安全性**：
   - 加密要求：SHA-256密码哈希
   - 访问控制：RBAC基础实现

3. **用户体验**：
   - 性能基准：界面响应≤1秒
   - 适配要求：支持1024x768+分辨率

4. **系统可扩展性**：
   - 设计预留：数据库扩展字段
   - 当前限制：单表≤500条记录

5. **维护成本**：
   - 技术债务：未实现ETL工具
   - 培训需求：管理员需3小时培训

**冲突权衡**：
- 安全性与易用性：密码复杂度要求可能增加用户操作难度
- 性能与可靠性：WAL日志模式会增加约10%写入开销
- 功能范围与开发周期：放弃第三方支付集成以保障2个月交付